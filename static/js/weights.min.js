var hero_type="",build="",gold="",active="";function adjustWeights(){switch(gtag("event","Dark Mode",{event_category:"Dark Mode",event_action:"Setting",event_label:$("#dark").prop("checked")?"Dark":"Light"}),$("#build").val()&&gtag("event","Build",{event_category:"Build",event_action:"Value",event_label:$("#build").val()}),$("#hero").val()&&gtag("event","Hero",{event_category:"Hero",event_action:"Set",event_label:$("#hero").val()}),$("#gold").val()&&gtag("event","Gold",{event_category:"Gold",event_action:"Set",event_label:$("#gold").val()}),$("#active").val()&&gtag("event","Active",{event_category:"Active",event_action:"Set",event_label:$("#active").val()}),build=$("#build").val(),active="online"==$("#active").val(),gold=$("#gold").val(),$("#hero").val()){case"maya":case"kronus":case"kiki":case"beany":case"ursa":case"wally":case"pharaoh":case"cass":case"lucy":case"jazz":case"mina":hero_type="spell_ground";break;case"zato":case"sophia":case"lance":case"gulbrand":case"rhys":case"cosette":case"jayce":case"boomoh":case"aya":case"yzafa":case"finn":hero_type="melee_ground";break;case"pingo":case"rosabella":case"davey":case"maddie":case"sawyer":case"saje":case"dex":case"lala":case"miki":hero_type="ranged_ground";break;case"maple":case"nohni":hero_type="melee_flying";break;case"kin":case"zolom":hero_type="ranged_flying";break;case"titania":case"damon":hero_type="spell_flying"}$.each(artifacts.data,function(e,a){a=calculateWeight(e,a),artifacts.data[e].rating=a.rating,artifacts.data[e].color=a.color}),adjustBoS(),artifacts=calculateAll(artifacts,!0),$.each(skills.data,function(e,a){a=calculateWeight(e,a),skills.data[e].rating=a.rating,skills.data[e].color=a.color}),calculateAllSkills(),storeData()}function calculateWeight(e,a){if(a.rating=0,a.color="danger","bos"==e)a.color="info";else if(null!=a.expo.sum)switch(a.expo.sum){case"pet_dmg":a.rating+=pets_dmg.all,a.rating+=pets_dmg.tap*reducts.tap[build],a.rating+=pets_dmg.hero*reducts.hero[build],a.rating+=pets_dmg.splash*reducts.splash[build],a.color="info";break;case"pet_gold":a.rating+=pets_gold*reducts.gold,a.color="warning";break;case"skill":a.rating+=reducts.hs[build],a.rating+=reducts.ds[build],a.rating+=reducts.gold,a.rating+=reducts.fs[build],a.rating+=reducts.wc[build],a.rating+=reducts.sc[build],a.color="info";break;case"skill_gold":a.rating+=0<reducts.ds[build]?.8:0<artifacts.data.gok.level?.8:0,a.rating+=reducts.gold,a.rating+=0<reducts.fs[build]?.8:0<artifacts.data.os.level?.8:0,a.rating+=0<reducts.wc[build]?.8:0<artifacts.data.tac.level?.8:0,a.rating+=0<reducts.sc[build]?.8:0<artifacts.data.ho.level?.8:0,a.color="warning";break;case"equip":a.rating+=1,a.rating+=reducts.hero[build],a.rating+=reducts.gold,a.rating+=reducts.companion[build],a.color="info"}else if(null!=a.expo.flat)switch(a.expo.flat){case"gold":a.rating=reducts.gold,a.color="warning";break;case"dmg":a.rating=1,a.color="info";break;case"hsk":0<artifacts.data.hs2.level?(a.rating=1,a.color="info"):(a.rating=.5,a.color="secondary");break;case"active":1==active?(a.rating=1,a.color="info"):(a.rating=0,a.color="danger");break;case"inactive":0==active?(a.rating=1,a.color="success"):(a.rating=0,a.color="danger");break;case"inactive_pet":0==active?(a.rating=reducts.pet[build]+("pet"==build?reducts.ds[build]:0),a.color=determineColor(a.rating)):(a.rating="pet"==build?reducts.ds[build]:0,a.color=determineColor(a.rating));break;case"inactive_ship":0==active?(a.rating=reducts.cs[build]+("cs"==build?reducts.ds[build]:0),a.color=determineColor(a.rating)):(a.rating="cs"==build?reducts.ds[build]:0,a.color=determineColor(a.rating));break;case"inactive_clone":0==active?(a.rating=reducts.sc[build]+("sc"==build?reducts.ds[build]:0),a.color=determineColor(a.rating)):(a.rating="sc"==build?reducts.ds[build]:0,a.color=determineColor(a.rating))}else null!=a.expo.reduct?("splash"==a.expo.reduct&&1==$("#dry").prop("checked")?a.rating=0:a.rating=reducts[a.expo.reduct][build],a.color=determineColor(a.rating)):null!=a.expo.hero_type?(-1==hero_type.indexOf(a.expo.hero_type)?a.rating=0:a.rating=reducts.hero[build],a.color=determineColor(a.rating)):null!=a.expo.gold&&($.each(a.expo.gold,function(e,t){return gold==t?(a.rating=reducts.gold,!1):"splash"==t?(a.rating=reducts.splash[build]*reducts.gold,!1):"inactive"==t?(active||(a.rating=reducts.gold),!1):"active"==t?(active&&(a.rating=reducts.gold),!1):void 0}),a.color=determineColor(a.rating));return a}function determineColor(e){return reducts.gold==e?"warning":1==e?"success":0==e?"danger":"secondary"}